---
import { getCollection } from 'astro:content';
import Layout from '~/layouts/PageLayout.astro';
import HeroText from '~/components/widgets/HeroText.astro';

const metadata = {
  title: 'Meetings',
};

const meetings = await getCollection('meetings');

meetings.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout metadata={metadata}>
  <HeroText title="Meetings" />

  <section class="max-w-6xl mx-auto mt-8">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {meetings.map((meeting) => (
        <div class="bg-muted/80 hover:bg-muted/90 p-6 rounded-2xl transition-all duration-300">
          <h2 class="text-xl font-semibold text-default">{meeting.data.title}</h2>
          <p class="text-sm opacity-75">{new Date(meeting.data.date).toLocaleDateString()}</p>
          <a href={`/meetings/${meeting.id}`} 
             class="text-primary hover:text-primary-dark transition-all duration-300 block mt-3 font-medium">
            Read more â†’
          </a>
        </div>
      ))}
    </div>
  </section>
</Layout>
